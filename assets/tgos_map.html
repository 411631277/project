<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <title>TGOS MAP API 測試地圖</title>
  <style>
    html, body, #mapDiv {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
  <!-- ✅ 正確 TGOS API 載入 -->
  <script src="https://api.tgos.tw/TGOS_MAP_API_3/tgos?APIKey=EiWY6yNoXSkbyuKhTWu5D0kMErKGOUIrqye3XbHS/22HRoScqlSi95k+450dBjZvXgsmMI7KkY9yDqaQHlwhnP2wOSKaaH/7GwaTACJyYt+evShst0JE+WQPQMgBRcp3"></script>

</head>
<body>
  <div id="mapDiv">載入中...</div>

  <script>
    function initMap() {
      console.log("✅ initMap 被呼叫了！");
      try {
        let map = new TGMap("mapDiv", {
          APIKey: "EiWY6yNoXSkbyuKhTWu5D0kMErKGOUIrqye3XbHS/22HRoScqlSi95k+450dBjZvXgsmMI7KkY9yDqaQHlwhnP2wOSKaaH/7GwaTACJyYt+evShst0JE+WQPQMgBRcp3",
          ShowMarker: true,
          Zoom: 12,
          Center: { x: 121.5654, y: 25.0330 },
          MapType: "ROADMAP"
        });
        console.log("✅ 地圖建立成功！");
      } catch (err) {
        console.error("❌ 地圖建立失敗：", err);
        alert("地圖建立失敗，請打開 F12 看 console.log");
      }
    }

    window.onload = function () {
      console.log("🌐 嘗試 TGOS.TGInit...");
      if (typeof TGOS !== 'undefined' && TGOS.TGInit) {
        TGOS.TGInit(initMap);
      } else {
        console.error("❌ TGOS.TGInit 無法使用");
        alert("TGOS API 未載入成功，請檢查網路或 API 網址");
      }
    };
  </script>
</body>
</html>
